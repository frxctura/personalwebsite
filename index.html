<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAXINE.PORTFOLIO-FRXCTURA</title>
    
    <!-- Open Graph tags -->
    <meta property="og:title" content="MAXINE.PORTFOLIO-FRXCTURA">
    <meta property="og:description" content="NFO">
    <meta property="og:image" content="https://cdn.discordapp.com/avatars/468465290531962900/4007abfcb2ccd686774e76ab33d22640">
    <meta property="og:url" content="https://estrogen.men/">
    <meta property="og:type" content="website">
    
    <script src="https://kit.fontawesome.com/04c5cc98c2.js" crossorigin="anonymous"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #000;
            color: #b0b0b0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            overflow-x: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            background: #0a0a0a;
            width: 100%;
            max-width: 1600px;
            aspect-ratio: 16 / 9;
            border: 1px solid #404040;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .ascii-logo {
            color: #d0d0d0;
            text-align: center;
            padding: 20px;
            line-height: 1.1;
            font-size: 9px;
            border-bottom: 1px solid #404040;
            overflow-x: auto;
            white-space: pre;
        }

        .header {
            color: #e0e0e0;
            text-align: center;
            padding: 15px;
            border-bottom: 1px solid #404040;
            font-size: 16px;
        }

        .nav-menu {
            display: flex;
            justify-content: center;
            gap: 30px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.02);
            border-bottom: 1px solid #404040;
        }

        .nav-menu a {
            color: #808080;
            text-decoration: none;
            transition: color 0.3s;
            font-size: 14px;
            cursor: pointer;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            color: #f0f0f0;
        }

        .content-area {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
        }

        .section {
            margin-bottom: 30px;
        }

        .section-title {
            color: #e0e0e0;
            font-size: 16px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #404040;
        }

        .info-box {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid #404040;
            padding: 20px;
            margin-bottom: 20px;
        }

        .profile-section {
            display: flex;
            align-items: center;
            gap: 30px;
            margin-bottom: 30px;
        }

        .profile-avatar {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 3px solid #404040;
            overflow: hidden;
            flex-shrink: 0;
            background: #222;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .profile-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-info {
            flex: 1;
        }

        .info-row {
            display: flex;
            margin-bottom: 10px;
        }

        .info-label {
            color: #808080;
            min-width: 150px;
        }

        .info-value {
            color: #f0f0f0;
        }

        .bright { color: #f0f0f0; }
        .dim { color: #606060; }
        .grey { color: #c0c0c0; }
        .darkgrey { color: #808080; }
        .green { color: #4CAF50; }
        .cyan { color: #00bcd4; }
        .yellow { color: #ffc107; }

        .page-content {
            display: none;
        }

        .page-content.active {
            display: block;
        }

        .project-item,
        .link-item {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid #404040;
            border-left: 3px solid #606060;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s;
            text-decoration: none;
            color: inherit;
            display: block;
            cursor: pointer;
        }

        .project-item:hover,
        .link-item:hover {
            background: rgba(255, 255, 255, 0.05);
            border-left-color: #00bcd4;
        }

        .project-title,
        .link-title {
            color: #f0f0f0;
            font-size: 16px;
            margin-bottom: 8px;
        }

        .project-desc,
        .link-desc {
            color: #808080;
            margin-bottom: 10px;
        }

        .project-url {
            color: #00bcd4;
            font-size: 12px;
        }

        .tech-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .tech-tag {
            color: #00bcd4;
            font-size: 12px;
        }

        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-online { background-color: #4CAF50; }
        .status-idle { background-color: #faa61a; }
        .status-dnd { background-color: #f04747; }
        .status-offline { background-color: #747f8d; }

        .discord-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .discord-profile-card {
            display: flex;
            gap: 15px;
            align-items: center;
            margin-bottom: 15px;
        }

        .discord-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 2px solid #404040;
            overflow: hidden;
            flex-shrink: 0;
            background: #222;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .discord-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .discord-user-details {
            flex: 1;
            min-width: 0;
        }

        .spotify-container {
            background: rgba(30, 215, 96, 0.05);
            border: 1px solid rgba(30, 215, 96, 0.3);
            padding: 20px;
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .spotify-album {
            width: 80px;
            height: 80px;
            background: #222;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .spotify-album img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .spotify-info {
            flex: 1;
            min-width: 0;
        }

        .spotify-track {
            color: #f0f0f0;
            font-weight: bold;
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .spotify-artist {
            color: #808080;
            margin-bottom: 10px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .spotify-progress {
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            margin: 10px 0;
            position: relative;
        }

        .spotify-bar {
            height: 100%;
            background: #1ED760;
            width: 0%;
            transition: width 1s linear;
        }

        .spotify-time {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #606060;
        }

        .activity-card {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid #404040;
            padding: 15px;
            margin-bottom: 10px;
        }

        .activity-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: #00bcd4;
            font-size: 12px;
        }

        .activity-content {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .activity-image {
            width: 50px;
            height: 50px;
            background: #222;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .activity-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .activity-info {
            flex: 1;
            min-width: 0;
        }

        .activity-name {
            color: #f0f0f0;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .activity-details,
        .activity-state {
            color: #808080;
            font-size: 13px;
        }

        .footer {
            text-align: center;
            padding: 15px;
            border-top: 1px solid #404040;
            color: #606060;
            font-size: 11px;
        }

        @media (max-width: 1400px) {
            .container {
                aspect-ratio: auto;
                min-height: 100vh;
            }
            
            .ascii-logo {
                font-size: 8px;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 0;
            }
            
            .container {
                border: none;
                aspect-ratio: auto;
            }
            
            .ascii-logo {
                font-size: 5px;
                padding: 10px;
            }
            
            .nav-menu {
                flex-direction: column;
                gap: 10px;
                align-items: center;
            }
            
            .content-area {
                padding: 15px;
            }
            
            .discord-section {
                grid-template-columns: 1fr;
            }
            
            .spotify-container {
                flex-direction: column;
            }
            
            .spotify-album {
                width: 100%;
                height: 120px;
            }

            .profile-section {
                flex-direction: column;
                text-align: center;
            }
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #0a0a0a;
        }

        ::-webkit-scrollbar-thumb {
            background: #404040;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #606060;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="ascii-logo">
   ▄████████    ▄████████ ▀████    ▐████▀  ▄████████     ███     ███    █▄     ▄████████    ▄████████ 
  ███    ███   ███    ███   ███▌   ████▀  ███    ███ ▀█████████▄ ███    ███   ███    ███   ███    ███ 
  ███    █▀    ███    ███    ███  ▐███    ███    █▀     ▀███▀▀██ ███    ███   ███    ███   ███    ███ 
 ▄███▄▄▄      ▄███▄▄▄▄██▀    ▀███▄███▀    ███            ███   ▀ ███    ███  ▄███▄▄▄▄██▀   ███    ███ 
▀▀███▀▀▀     ▀▀███▀▀▀▀▀      ████▀██▄     ███            ███     ███    ███ ▀▀███▀▀▀▀▀   ▀███████████ 
  ███        ▀███████████   ▐███  ▀███    ███    █▄      ███     ███    ███ ▀███████████   ███    ███ 
  ███          ███    ███  ▄███     ███▄  ███    ███     ███     ███    ███   ███    ███   ███    ███ 
  ███          ███    ███ ████       ███▄ ████████▀     ▄████▀   ████████▀    ███    ███   ███    █▀  
               ███    ███                                                      ███    ███          
    </div>

    <div class="header">
        MAXINE.PORTFOLIO.V2025-FRXCTURA
    </div>

    <div class="nav-menu">
        <a href="#" class="nav-link active" data-page="home"><i class="fas fa-home"></i> HOME</a>
        <a href="#" class="nav-link" data-page="projects"><i class="fas fa-folder"></i> PROJECTS</a>
        <a href="#" class="nav-link" data-page="links"><i class="fas fa-link"></i> LINKS</a>
        <a href="#" class="nav-link" data-page="status"><i class="fas fa-info-circle"></i> STATUS</a>
        <a href="#" class="nav-link" data-page="countdown" onclick="event.preventDefault(); window.location.href='/countdown';">
            <i class="fas fa-clock"></i> COUNTDOWN
        </a>
    </div>

    <div class="content-area">
        <!-- HOME PAGE -->
        <div id="page-home" class="page-content active">
            <div class="profile-section">
                <div class="profile-avatar" id="profile-avatar">
                    <i class="fas fa-user fa-3x" style="color:#404040"></i>
                </div>
                <div class="profile-info">
                    <h1 style="color: #f0f0f0; font-size: 32px; margin-bottom: 10px;">Hey, I'm Maxine</h1>
                    <div style="color: #808080; font-size: 16px; margin-bottom: 15px;">
                        A full-stack developer living and working in Germany
                    </div>
                    <div style="color: #606060; font-size: 14px;">
                        This sites main purpose is to link to some projects & socials.
                    </div>
                </div>
            </div>

            <div class="section">
                <div class="section-title">[ RELEASE INFO ]</div>
                <div class="info-box">
                    <div class="info-row">
                        <div class="info-label">Release Date:</div>
                        <div class="info-value" id="current-date">Loading...</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Location:</div>
                        <div class="info-value green">Germany</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Status:</div>
                        <div class="info-value green">Bein' cool</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Specialization:</div>
                        <div class="info-value cyan">Full-Stack Development</div>
                    </div>
                </div>
            </div>

            <div class="section">
                <div class="section-title">[ VISITOR INFO ]</div>
                <div class="info-box">
                    <div class="info-row">
                        <div class="info-label">Browser:</div>
                        <div class="info-value" id="visitor-browser">Detecting...</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Platform:</div>
                        <div class="info-value" id="visitor-platform">Detecting...</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Language:</div>
                        <div class="info-value" id="visitor-language">Detecting...</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Screen Resolution:</div>
                        <div class="info-value" id="visitor-screen">Detecting...</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Viewport:</div>
                        <div class="info-value" id="visitor-viewport">Detecting...</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Connection:</div>
                        <div class="info-value" id="visitor-connection">Detecting...</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Time Zone:</div>
                        <div class="info-value" id="visitor-timezone">Detecting...</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Local Time:</div>
                        <div class="info-value" id="visitor-time">Detecting...</div>
                    </div>
                </div>
            </div>

            <div class="section">
                <div class="section-title">[ TECHNOLOGIES ]</div>
                <div class="info-box">
                    <div class="info-row">
                        <div class="info-label">Languages:</div>
                        <div class="info-value"><span class="cyan">JavaScript</span> | <span class="cyan">Python</span> | <span class="cyan">Java</span> | <span class="cyan">C#</span></div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Frontend:</div>
                        <div class="info-value"><span class="cyan">HTML5</span> | <span class="cyan">CSS3</span> | <span class="cyan">React</span></div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Backend:</div>
                        <div class="info-value"><span class="cyan">Node.js</span> | <span class="cyan">.NET</span></div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Database:</div>
                        <div class="info-value"><span class="cyan">SQLite</span> | <span class="cyan">SQL</span></div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Tools:</div>
                        <div class="info-value"><span class="cyan">Git</span> | <span class="cyan">WinForms</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- PROJECTS PAGE -->
        <div id="page-projects" class="page-content">
            <div class="section">
                <div class="section-title">[ PROJECTS ]</div>
                
                <a href="https://github.com/VRPirates/rookie" target="_blank" rel="noopener noreferrer" class="project-item">
                    <div class="project-title">ROOKIE</div>
                    <div class="project-desc">A sideloader for Android Devices</div>
                    <div class="tech-tags">
                        <span class="tech-tag">C#</span>
                        <span class="tech-tag">WinForms</span>
                        <span class="tech-tag">.NET</span>
                    </div>
                    <div style="margin-top: 10px;">
                        <span class="project-url">github.com/VRPirates/rookie</span>
                    </div>
                </a>

                <a href="https://github.com/VRPirates/VRPE" target="_blank" rel="noopener noreferrer" class="project-item">
                    <div class="project-title">VRPE</div>
                    <div class="project-desc">An installer for numerous tools</div>
                    <div class="tech-tags">
                        <span class="tech-tag">C#</span>
                        <span class="tech-tag">WinForms</span>
                        <span class="tech-tag">.NET</span>
                    </div>
                    <div style="margin-top: 10px;">
                        <span class="project-url">github.com/VRPirates/VRPE</span>
                    </div>
                </a>

                <a href="https://github.com/frxctura/personalwebsite" target="_blank" rel="noopener noreferrer" class="project-item">
                    <div class="project-title">THIS WEBSITE</div>
                    <div class="project-desc">My personal portfolio website, the one you're on right now!</div>
                    <div class="tech-tags">
                        <span class="tech-tag">HTML</span>
                        <span class="tech-tag">CSS</span>
                        <span class="tech-tag">JavaScript</span>
                    </div>
                    <div style="margin-top: 10px;">
                        <span class="project-url">github.com/frxctura/personalwebsite</span>
                    </div>
                </a>

                <a href="https://github.com/frxctura/Telegram-MSG-Logger" target="_blank" rel="noopener noreferrer" class="project-item">
                    <div class="project-title">TELEGRAM-MSG-LOGGER</div>
                    <div class="project-desc">A simple message logger built in Python</div>
                    <div class="tech-tags">
                        <span class="tech-tag">Python</span>
                        <span class="tech-tag">SQLite</span>
                    </div>
                    <div style="margin-top: 10px;">
                        <span class="project-url">github.com/frxctura/Telegram-MSG-Logger</span>
                    </div>
                </a>
            </div>
        </div>

        <!-- LINKS PAGE -->
        <div id="page-links" class="page-content">
            <div class="section">
                <div class="section-title">[ LINKS ]</div>

                <a href="https://github.com/frxctura" target="_blank" rel="noopener noreferrer" class="link-item">
                    <div class="link-title"><i class="fab fa-github"></i> GITHUB</div>
                    <div class="link-desc cyan">github.com/frxctura</div>
                    <div class="darkgrey">GutHib</div>
                </a>

                <a href="https://t.me/frxctura" target="_blank" rel="noopener noreferrer" class="link-item">
                    <div class="link-title"><i class="fab fa-telegram-plane"></i> TELEGRAM</div>
                    <div class="link-desc cyan">t.me/frxctura</div>
                    <div class="darkgrey">Muh Telegram</div>
                </a>

                <a href="https://discord.com/users/468465290531962900" target="_blank" rel="noopener noreferrer" class="link-item">
                    <div class="link-title"><i class="fab fa-discord"></i> DISCORD</div>
                    <div class="link-desc cyan">468465290531962900</div>
                    <div class="darkgrey">Check out my Discord</div>
                </a>

                <a href="https://open.spotify.com/user/niimk3v9uya2ni43a913z5q61?si=a2395a8df96441d5" target="_blank" rel="noopener noreferrer" class="link-item">
                    <div class="link-title"><i class="fab fa-spotify"></i> SPOTIFY</div>
                    <div class="link-desc cyan">niimk3v9uya2ni43a913z5q61</div>
                    <div class="darkgrey">I have way too much music</div>
                </a>

                <a href="https://steamcommunity.com/id/frxctura/" target="_blank" rel="noopener noreferrer" class="link-item">
                    <div class="link-title"><i class="fab fa-steam"></i> STEAM</div>
                    <div class="link-desc cyan">steamcommunity.com/id/frxctura</div>
                    <div class="darkgrey">I play games too!</div>
                </a>
            </div>
        </div>

        <!-- STATUS PAGE -->
        <div id="page-status" class="page-content">
            <div class="section">
                <div class="section-title">[ DISCORD STATUS ]</div>
                <div class="discord-section">
                    <div class="info-box">
                        <div class="discord-profile-card">
                            <div class="discord-avatar" id="discord-avatar">
                                <i class="fas fa-user" style="color:#404040"></i>
                            </div>
                            <div class="discord-user-details">
                                <div style="font-size: 18px; font-weight: bold; color: #f0f0f0; margin-bottom: 5px;" id="discord-username">Loading...</div>
                                <div style="font-size: 13px; color: #808080; margin-bottom: 8px;" id="discord-id">Loading...</div>
                                <div style="display: flex; align-items: center;">
                                    <span id="discord-status-dot" class="status-indicator status-offline"></span>
                                    <span id="discord-status-text" style="font-size: 13px;">Offline</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="info-box">
                        <div style="font-weight: bold; margin-bottom: 10px; color: #f0f0f0;">Activities</div>
                        <div id="activities-container">
                            <div class="dim">Loading activities...</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <div class="section-title">[ SPOTIFY ]</div>
                <div class="spotify-container" id="spotify-container">
                    <div class="spotify-album" id="spotify-album">
                        <i class="fab fa-spotify fa-2x" style="color:#1ED760"></i>
                    </div>
                    <div class="spotify-info">
                        <div class="spotify-track" id="spotify-track">Not playing</div>
                        <div class="spotify-artist" id="spotify-artist">Not listening to anything</div>
                        <div class="spotify-progress">
                            <div class="spotify-bar" id="progress-bar"></div>
                        </div>
                        <div class="spotify-time">
                            <span id="current-time">0:00</span>
                            <span id="total-time">0:00</span>
                        </div>
                    </div>
                </div>
                <div class="dim" style="text-align: right; margin-top: 10px; font-size: 12px;">
                    <i class="fab fa-discord"></i> Data fetched from Lanyard API
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        FRXCTURA ™ SINCE 2005 | Made with &lt;3 using pure HTML/CSS/JS
    </div>
</div>

<script>
// Page navigation
const navLinks = document.querySelectorAll('.nav-link');
const pages = document.querySelectorAll('.page-content');

navLinks.forEach(link => {
    link.addEventListener('click', (e) => {
        e.preventDefault();
        const pageName = link.dataset.page;
        
        navLinks.forEach(l => l.classList.remove('active'));
        link.classList.add('active');
        
        pages.forEach(p => p.classList.remove('active'));
        document.getElementById(`page-${pageName}`).classList.add('active');
        
        if (pageName === 'status') {
            updateDiscordStatus();
        }
    });
});

// Discord Status Integration
let previousActivities = [];

async function updateDiscordStatus() {
    const userId = "468465290531962900";
    
    try {
        const response = await fetch(`https://api.lanyard.rest/v1/users/${userId}`);
        const data = await response.json();
        
        if (!data.success) throw new Error("API returned unsuccessful response");
        
        const user = data.data.discord_user;
        
        // Update Discord avatar in status page
        const discordAvatar = document.getElementById('discord-avatar');
        const avatarUrl = `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}`;
        discordAvatar.innerHTML = `<img src="${avatarUrl}" alt="Discord Avatar" />`;
        
        document.getElementById('discord-username').textContent = user.display_name || user.global_name || user.username;
        document.getElementById('discord-id').textContent = `${user.username}${user.discriminator !== '0' ? '#' + user.discriminator : ''}`;
        
        const statusDot = document.getElementById('discord-status-dot');
        const statusText = document.getElementById('discord-status-text');
        statusDot.className = `status-indicator status-${data.data.discord_status}`;
        
        const statusMap = {
            online: "Online",
            idle: "Idle",
            dnd: "Do Not Disturb",
            offline: "Offline"
        };
        statusText.textContent = statusMap[data.data.discord_status] || "Unknown";
        
        if (haveActivitiesChanged(data.data.activities, previousActivities)) {
            updateActivities(data.data.activities);
            previousActivities = JSON.parse(JSON.stringify(data.data.activities || []));
        }
        
        updateSpotifyPlayer(data.data);
        
    } catch (error) {
        console.error("Error fetching Discord data:", error);
        document.getElementById('discord-username').textContent = "Connection Error";
        document.getElementById('discord-id').textContent = "Could not fetch data";
    }
}

function haveActivitiesChanged(newActivities = [], oldActivities = []) {
    if (newActivities.length !== oldActivities.length) return true;
    if (newActivities.length === 0) return false;
    
    for (let i = 0; i < newActivities.length; i++) {
        const newAct = newActivities[i];
        const oldAct = oldActivities[i];
        
        if (newAct.name !== oldAct.name || 
            newAct.type !== oldAct.type || 
            newAct.state !== oldAct.state || 
            newAct.details !== oldAct.details) {
            return true;
        }
    }
    return false;
}

function updateActivities(activities) {
    const container = document.getElementById('activities-container');
    
    if (!activities || activities.length === 0) {
        container.innerHTML = '<div class="dim">No current activities</div>';
        return;
    }
    
    let html = '';
    activities.forEach(activity => {
        if (activity.name === "Spotify") return;
        
        if (activity.type === 4) {
            let emojiHTML = '';
            if (activity.emoji) {
                if (activity.emoji.id) {
                    const animated = activity.emoji.animated ? 'gif' : 'png';
                    emojiHTML = `<img style="width:16px;height:16px;vertical-align:middle;margin-right:5px;" src="https://cdn.discordapp.com/emojis/${activity.emoji.id}.${animated}" alt="${activity.emoji.name}" />`;
                } else {
                    emojiHTML = `<span style="margin-right:5px;">${activity.emoji.name}</span>`;
                }
            }
            html += `<div class="activity-card">
                <div class="activity-header">CUSTOM STATUS</div>
                <div>${emojiHTML}${activity.state || ''}</div>
            </div>`;
        } else {
            const typeMap = { 0: "Playing", 1: "Streaming", 2: "Listening", 3: "Watching", 5: "Competing" };
            const activityType = typeMap[activity.type] || "Activity";
            
            html += `<div class="activity-card">
                <div class="activity-header">${activityType.toUpperCase()}</div>
                <div class="activity-name">${activity.name}</div>`;
            if (activity.details) html += `<div class="activity-details">${activity.details}</div>`;
            if (activity.state) html += `<div class="activity-state">${activity.state}</div>`;
            html += `</div>`;
        }
    });
    
    container.innerHTML = html;
}

function updateSpotifyPlayer(data) {
    const spotifyAlbum = document.getElementById('spotify-album');
    const spotifyTrack = document.getElementById('spotify-track');
    const spotifyArtist = document.getElementById('spotify-artist');
    const progressBar = document.getElementById('progress-bar');
    const currentTime = document.getElementById('current-time');
    const totalTime = document.getElementById('total-time');
    
    if (data.listening_to_spotify && data.spotify) {
        const spotify = data.spotify;
        
        spotifyAlbum.innerHTML = `<img src="${spotify.album_art_url}" alt="${spotify.album}" />`;
        spotifyTrack.textContent = spotify.song;
        spotifyArtist.textContent = spotify.artist;
        
        const now = Date.now();
        const start = spotify.timestamps.start;
        const end = spotify.timestamps.end;
        const duration = end - start;
        const elapsed = now - start;
        const progress = Math.min(100, Math.max(0, (elapsed / duration) * 100));
        
        const formatTime = (ms) => {
            const totalSeconds = Math.floor(ms / 1000);
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${minutes}:${seconds.toString().padStart(2, "0")}`;
        };
        
        progressBar.style.width = `${progress}%`;
        currentTime.textContent = formatTime(elapsed);
        totalTime.textContent = formatTime(duration);
        
        if (elapsed < duration) {
            clearInterval(window.spotifyProgressInterval);
            window.spotifyProgressInterval = setInterval(() => {
                const newElapsed = Date.now() - start;
                const newProgress = Math.min(100, Math.max(0, (newElapsed / duration) * 100));
                
                if (newElapsed < duration) {
                    progressBar.style.width = `${newProgress}%`;
                    currentTime.textContent = formatTime(newElapsed);
                } else {
                    clearInterval(window.spotifyProgressInterval);
                    setTimeout(updateDiscordStatus, 2000);
                }
            }, 1000);
        }
    } else {
        spotifyAlbum.innerHTML = '<i class="fab fa-spotify fa-2x" style="color:#1ED760"></i>';
        spotifyTrack.textContent = "Not playing";
        spotifyArtist.textContent = "Not listening to anything";
        progressBar.style.width = "0%";
        currentTime.textContent = "0:00";
        totalTime.textContent = "0:00";
        clearInterval(window.spotifyProgressInterval);
    }
}

// Update status every second when on status page
setInterval(() => {
    if (document.getElementById('page-status').classList.contains('active')) {
        updateDiscordStatus();
    }
}, 1000);

// Load Discord avatar on page load
async function loadDiscordAvatar() {
    try {
        const response = await fetch('https://api.lanyard.rest/v1/users/468465290531962900');
        const data = await response.json();
        
        if (data.success) {
            const user = data.data.discord_user;
            const avatarUrl = `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}`;
            const avatarContainer = document.getElementById('profile-avatar');
            avatarContainer.innerHTML = `<img src="${avatarUrl}" alt="Profile Avatar" />`;
        }
    } catch (error) {
        console.error("Error loading avatar:", error);
    }
}

// Load avatar on page load
loadDiscordAvatar();

// Populate visitor info
function populateVisitorInfo() {
    // Current date
    const now = new Date();
    document.getElementById('current-date').textContent = now.toLocaleDateString('en-US', { 
        year: 'numeric', 
        month: '2-digit', 
        day: '2-digit' 
    });
    
    // Browser detection
    const ua = navigator.userAgent;
    let browser = 'Unknown';
    if (ua.indexOf('Firefox') > -1) browser = 'Firefox';
    else if (ua.indexOf('Chrome') > -1) browser = 'Chrome';
    else if (ua.indexOf('Safari') > -1) browser = 'Safari';
    else if (ua.indexOf('Edge') > -1) browser = 'Edge';
    else if (ua.indexOf('Opera') > -1 || ua.indexOf('OPR') > -1) browser = 'Opera';
    document.getElementById('visitor-browser').textContent = browser;
    
    // Platform
    document.getElementById('visitor-platform').textContent = navigator.platform;
    
    // Language
    document.getElementById('visitor-language').textContent = navigator.language;
    
    // Screen resolution
    document.getElementById('visitor-screen').textContent = `${window.screen.width}x${window.screen.height}`;
    
    // Viewport
    document.getElementById('visitor-viewport').textContent = `${window.innerWidth}x${window.innerHeight}`;
    
    // Connection status
    const connection = navigator.onLine ? 'Online' : 'Offline';
    const connectionElement = document.getElementById('visitor-connection');
    connectionElement.textContent = connection;
    connectionElement.className = navigator.onLine ? 'info-value green' : 'info-value';
    
    // Time zone
    const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
    document.getElementById('visitor-timezone').textContent = timezone;
    
    // Local time (update every second)
    function updateTime() {
        const now = new Date();
        document.getElementById('visitor-time').textContent = now.toLocaleTimeString();
    }
    updateTime();
    setInterval(updateTime, 1000);
    
    // Update viewport on resize
    window.addEventListener('resize', () => {
        document.getElementById('visitor-viewport').textContent = `${window.innerWidth}x${window.innerHeight}`;
    });
}

populateVisitorInfo();
</script>
</body>
</html>